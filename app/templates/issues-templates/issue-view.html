<h2 class="page-header">Issues</h2>
<div class="jumbotron-container">
    <div class="form-group">
        <a href="#/issues/{{issueById.Id}}/edit"
           ng-if="userAuth.getUserId()==issueById.Author.Id || userAuth.isUserAdmin()">
            <button class="btn-sm">
                Edit issue
            </button>
        </a>
        <table class="table">
            <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>DueDate</th>
                <th>Assignee</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>{{issueById.Title}}</td>
                <td>{{issueById.Description}}</td>
                <td>{{issueById.DueDate}}</td>
                <td>{{issueById.Assignee.Username}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="form-group">
        <h3 >Comments</h3>
        <ul class="list-group comments">
            <li class="list-group-item" ng-repeat="comment in Comments">
                <h4 class="list-group-item-heading">{{comment.Author.Username}} - {{comment.CreatedOn | date}}</h4>
                <p class="list-group-item-text">{{comment.Text}}</p>
            </li>
        </ul>
        <div ng-if="userAuth.getUserId()==issueById.Author.Id ||
                    userAuth.getUserId()==issueById.Assignee.Id ||
                    userAuth.isUserAdmin()">
            <h4>Add comment:</h4>
            <textarea row="3"
                      class="form-control"
                      required="required"
                      ng-model="comment">
            </textarea>
            <button type="submit"
                    class="btn-primary"
                    ng-click="addComment(comment)">
                Add comment
            </button>
        </div>
    </div>
</div>